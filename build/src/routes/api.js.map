{"version":3,"sources":["api.js"],"names":["router","Express","Router","get","req","res","page","params","limit","response","task","Jobs","find","skip","parseInt","exec","err","job","setHeader","send","JSON","stringify","apiRoute"],"mappings":"AAAA;;;;;;;AAEA;;;;AACA;;;;AACA;;;;;;AAEA,IAAIA,SAASC,kBAAQC,MAAR,EAAb;;AAEAF,OAAOG,GAAP,CAAW,oBAAX,EAAiC,UAACC,GAAD,EAAMC,GAAN,EAAc;AAC3C,QAAIC,OAAOF,IAAIG,MAAJ,CAAWD,IAAtB;AACA,QAAIE,QAAQJ,IAAIG,MAAJ,CAAWC,KAAvB;AACA,QAAIC,WAAWJ,GAAf;;AAEA,QAAIK,OAAOC,eAAKC,IAAL,CAAU,EAAV,EAAc,IAAd,EAAoB,EAAEC,MAAMP,OAAOE,KAAf,EAApB,EAA4CA,KAA5C,CAAkDM,SAASN,KAAT,CAAlD,CAAX;;AAEAE,SAAKK,IAAL,CAAU,UAASC,GAAT,EAAcC,GAAd,EAAmB;AAC3BR,iBAASS,SAAT,CAAmB,cAAnB,EAAmC,kBAAnC;AACAT,iBAASU,IAAT,CAAcC,KAAKC,SAAL,CAAeJ,GAAf,CAAd;AACD,KAHD;AAIH,CAXD;;QAamBK,Q,GAAVtB,M","file":"api.js","sourcesContent":["\"use strict\";\n\nimport Express from 'express'\nimport mongoose from 'mongoose'\nimport Jobs from './jobs.js'\n\nlet router = Express.Router()\n\nrouter.get('/list/:page/:limit', (req, res) => {\n    let page = req.params.page\n    let limit = req.params.limit\n    let response = res\n\n    let task = Jobs.find({}, null, { skip: page * limit }).limit(parseInt(limit));\n\n    task.exec(function(err, job) {\n      response.setHeader('Content-Type', 'application/json');\n      response.send(JSON.stringify(job));\n    })\n})\n\nexport { router as apiRoute }\n"]}